# CalendarCraft 移行タスク管理

## 現在の状況
- [x] Next.jsプロジェクトの初期設定完了
- [x] 基本的なユーティリティ関数（`utils.ts`）実装済み
- [x] Supabaseクライアントの設定完了

## 既存コードの再利用可能な部分
### レイアウト構造
- サイドメニュー（既存実装を維持）
  - ナビゲーションメニュー
  - プロジェクト一覧
  - タグ一覧
  - その他設定項目
- メインコンテンツエリア

### カレンダー機能
- `calendar-grid.tsx`（月表示のみ実装）
- `day-cell.tsx`
- `event-modal.tsx`
- カレンダー関連のユーティリティ関数

### 仕様の明確化
#### 画面レイアウト
- 左サイドメニュー（既存実装を維持）
  - 固定幅（デフォルト表示）
  - レスポンシブ対応（モバイル時は収納可能）
  - メニュー項目は既存の構造を維持

#### メインコンテンツ（カレンダー表示）
- サイドメニューの右側に表示
- メインダッシュボードとして機能
- 月表示のみを実装（週表示・日表示は不要）
- チーム全体の予定と個人の予定を切り替え可能
- イベント、タスク、出勤情報を統合表示

### 型定義
- イベント
- タスク
- 出勤情報
- プロジェクト

## 次のタスク（優先度順）

### 1. レイアウト構造の移行 🏗️
- [ ] 既存のレイアウト構造をNext.js App Routerに適応
  - [ ] ルートレイアウトの作成
  - [ ] サイドメニューコンポーネントの移行（既存実装を維持）
  - [ ] レスポンシブ対応の確認

### 2. カレンダーコンポーネントの移行 🔄
- [ ] 既存の月表示カレンダーコンポーネントをNext.js App Routerに適応
  - [ ] Server ComponentとClient Componentの適切な分離
  - [ ] データフェッチングの実装方法の変更
  - [ ] イベントハンドリングの調整
  - [ ] チーム/個人表示の切り替え機能
  - [ ] イベント、タスク、出勤情報の統合表示

### 3. 認証機能の実装 🔐
- [ ] Supabase Auth Helpersの設定
- [ ] ミドルウェアの実装
- [ ] ログインページの作成
- [ ] 認証状態の管理（Server/Client）

### 4. データベース操作の移行 💾
- [ ] Server Actionsの実装
  - [ ] カレンダーイベントのCRUD
  - [ ] タスク管理
  - [ ] 出勤情報の管理
- [ ] エラーハンドリング
- [ ] 楽観的更新の実装

### 5. 管理機能の実装 ⚙️
- [ ] 管理者ダッシュボード
- [ ] ユーザー管理画面
- [ ] プロジェクト管理画面
- [ ] 権限管理の実装

### 6. インポート/エクスポート機能 📤
- [ ] Google Sheetsインポート
  - [ ] API連携
  - [ ] データマッピング
- [ ] Google Calendarエクスポート
  - [ ] API連携
  - [ ] イベント同期

### 7. UI/UX改善 🎨
- [ ] レスポンシブデザインの調整
- [ ] アニメーションの追加
- [ ] ローディング状態の実装
- [ ] エラー表示の改善

### 8. テスト実装 🧪
- [ ] ユニットテスト
- [ ] 統合テスト
- [ ] E2Eテスト

### 9. デプロイ準備 🚀
- [ ] 環境変数の整理
- [ ] ビルド設定の最適化
- [ ] パフォーマンスチェック
- [ ] SEO対策

## 次のアクション
1. 既存のレイアウト構造（サイドメニュー）をNext.jsプロジェクトに移行
2. カレンダーコンポーネントの移行とServer/Client Componentの分離

### 具体的な手順
1. `src/components/layout`ディレクトリの作成
2. サイドメニューコンポーネントの移行（既存実装を維持）
3. `src/components/calendar`ディレクトリの作成
4. カレンダーコンポーネントの移行と調整
5. データフェッチングの実装方法の変更
6. イベントハンドリングの調整 